/**
 * jQuery imgbg v1.0 - 2012-11-25
 * https://github.com/tomothumb/jquery.imgbg
 * (c) 2012 Tomoyuki Tsujmioto
 * license: www.opensource.org/licenses/mit-license.php
 */
;(function(e){e.fn.imgbg=function(t){var n=this;var r=e.extend({},e.fn.imgbg.defaults,t);var i,s,o;var u,a,f;var l={};var c={width:1,height:1,left:0,top:0};var h=function(e,t){e.css({width:t.width,height:t.height,top:t.top,left:t.left})};var p=function(e){i=document.documentElement.clientWidth;s=document.documentElement.clientHeight;clientAspectRate=s/i;u=i-(r.left+r.right);a=s-(r.top+r.bottom);bgAreaAspectRate=a/u};var d=function(e){p();if(l[e[0].id].aspectRate>bgAreaAspectRate){c.width=u*(r.widthRate/100);c.height=c.width*l[e[0].id].aspectRate;c.left=0+r.left;c.top=r.top-(c.height-a)/(100/r.centerX);h(e,c)}else{c.height=a*(r.heightRate/100);c.width=c.height/l[e[0].id].aspectRate;c.top=0+r.top;c.left=r.left-(c.width-u)/(100/r.centerY);h(e,c)}};e(n).each(function(t,n){var r=e(n);l[n.id]={};l[n.id].aspectRate=r.height()/r.width();e(window).on("ready",function(){r.addClass("imgbg");d(r)});e(window).on("resize",function(){d(r)})});return this};e.fn.imgbg.defaults={widthRate:100,heightRate:100,centerX:50,centerY:50,left:0,right:0,top:0,bottom:0,aspectRate:1}})(jQuery)